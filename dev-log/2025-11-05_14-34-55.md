# Review Log - 2025-11-05 14:34:55

- 주제: 파이프라인 간 테스트 산출물 경로 호환성 점검 요청 대응
- 확인 결과:
  - 정보 검색 파이프라인(`src/pipelines/info_retrieval.py:237`)은 `_sanitize_filename`을 사용해 공백을 유지한 파일명을 생성 (`outputs/info/청자 상감운학문 매병.md`).
  - 스크립트 생성 파이프라인(`src/pipelines/script_gen.py:121`)은 `keyword.replace(" ", "_")`로 슬러그를 만들어 정보 파일을 찾으므로, 상기 파일을 찾지 못해 실제 실행 시 `FileNotFoundError` 발생.
  - 오디오 생성 파이프라인(`src/pipelines/audio_gen.py:232`)도 동일한 언더스코어 슬러그를 기대하여, 스크립트 파이프라인 산출물과만 호환되고 정보 파이프라인과는 불일치.
- 결론: 현재 테스트 산출물은 세 파이프라인 간 완전한 호환성이 없음.
- 제안 표준:
  1. 공통 유틸(예: `src/utils/path_sanitizer.py`)로 `sanitize_keyword_for_path(keyword: str) -> str` 함수를 정의.
  2. 규칙은 정보 파이프라인의 `_sanitize_filename`과 동일하게 **특수문자 제거 + 공백 유지**로 통일 (문서 계약과 일치).
  3. 스크립트/오디오 파이프라인은 공통 함수를 사용해 입력·출력 파일명을 생성하고, 필요한 접미사(`_script.md`, `.mp3`)만 덧붙이도록 수정.
  4. docs(`docs/plan.md`)에도 동일 규칙을 명시해 향후 이슈 예방.
- 후속 요청: 각 파이프라인 담당 에이전트에게 위 표준 적용 및 코드 반영을 안내 예정.
